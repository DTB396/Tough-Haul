<!-- Main Navigation Component -->

<nav class="main-nav" aria-label="Main Navigation">
  <ul class="nav-list">
    {% for item in site.data.navigation.primary %}
      {% if item.url %}
        <li class="nav-item">
          <a href="{{ item.url }}">{{ item.title }}</a>
          {% if item.children %}
            <ul class="sub-nav-list">
              {% for child in item.children %}
                <li class="sub-nav-item">
                  <a href="{{ child.url }}">{{ child.title }}</a>
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </li>
      {% endif %}
      {% if item.children and not item.url %}
        {% for child in item.children %}
          <li class="nav-item">
            <a href="{{ child.url }}">{{ child.title }}</a>
          </li>
        {% endfor %}
      {% endif %}
    {% endfor %}
  </ul>
</nav>

<!-- Mobile Navigation -->
<div class="mobile-nav">
  <button class="nav-toggle" aria-label="Open navigation menu">☰</button>
  <div id="mobile-nav" class="mobile-nav-shell">
    <button class="nav-close" aria-label="Close navigation menu">✖</button>
    <ul class="mobile-nav-list">
      {% for item in site.data.navigation.primary %}
        {% if item.url %}
          <li><a href="{{ item.url }}">{{ item.title }}</a></li>
        {% endif %}
        {% if item.children %}
          {% for child in item.children %}
            <li><a href="{{ child.url }}">{{ child.title }}</a></li>
          {% endfor %}
        {% endif %}
      {% endfor %}
    </ul>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.querySelector('.nav-toggle');
    const closeBtn = document.querySelector('.nav-close');
    const mobileNav = document.querySelector('#mobile-nav');

    toggle.addEventListener('click', () => {
      document.body.classList.add('nav-open');
      mobileNav.style.display = 'block';
    });

    closeBtn.addEventListener('click', () => {
      document.body.classList.remove('nav-open');
      mobileNav.style.display = 'none';
    });
  });
</script>
